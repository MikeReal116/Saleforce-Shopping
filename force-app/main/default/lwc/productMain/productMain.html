<template>
  <div>
    <lightning-card title="Filter products">
      <c-product-filter
        onselectedcategory={handleSelectedCategory}
        onselectedprice={handleSelectedPrice}
      ></c-product-filter>
    </lightning-card>
    <template if:true={error}>
      <lightning-card
        title="Sorry couldn't get products. Try again later"
      ></lightning-card>
    </template>
    <template if:true={products}>
      <div class="slds-grid slds-gutters">
        <div class="slds-col slds-size_4-of-5">
          <c-product-list
            products={products}
            onaddtocart={handleAddToCart}
          ></c-product-list>
        </div>
        <template if:true={productInCart}>
          <div class="slds-col slds-size_1-of-5">
            <c-cart
              cart-items={cartItems}
              onremovefromcart={handleRemoveFromCart}
              onclearcart={handleClearCart}
            ></c-cart>
          </div>
        </template>
      </div>
    </template>
  </div>
</template>
